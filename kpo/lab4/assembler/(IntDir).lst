Microsoft (R) Macro Assembler Version 14.37.32822.0	    12/11/24 20:13:09
data.asm						     Page 1 - 1


				.586
				.model flat, stdcall
				includelib kernel32.lib
				ExitProcess PROTO :DWORD
				MessageBoxA PROTO :DWORD, :DWORD, :DWORD, :DWORD

				.STACK 4096

 00000000			.CONST
 00000000 00000000		button DD 0

 00000000			.DATA
 00000000 00000000		HW DD 0
 00000004  00000100 [		resultString DB 256 DUP(?), 0
	    00
	   ] 00
 00000105 CE EA ED EE 00	window BYTE "Окно", 0
 0000010A 000A			ushortL dw 10
 0000010C FFC9			shortN dw -55

 00000000			.CODE
 00000000			main PROC
 00000000  8D 3D 00000004 R		LEA EDI, resultString
 00000006  66| A1		mov AX, ushortL
	   0000010A R
 0000000C  E8 00000034		call ConvertToDecimal
 00000011  C6 07 20		mov BYTE PTR [EDI], ' '
 00000014  47			inc EDI
 00000015  66| A1		mov AX, shortN
	   0000010C R
 0000001B  E8 00000025		call ConvertToDecimal
 00000020  C6 07 00		mov BYTE PTR [EDI], 0
				INVOKE MessageBoxA, HW, OFFSET resultString, OFFSET window, button
				INVOKE ExitProcess, 0
 00000045			main ENDP
 00000045			ConvertToDecimal PROC
 00000045  50				push EAX
 00000046  53				push EBX
 00000047  51				push ECX
 00000048  52				push EDX
 00000049  66| 83 F8 00			cmp AX, 0
 0000004D  7D 07			jge PositiveNumber
 0000004F  66| F7 D8			neg AX
 00000052  C6 07 2D			mov BYTE PTR [EDI], '-'
 00000055  47				inc EDI
 00000056			PositiveNumber:
 00000056  33 DB			xor EBX, EBX
 00000058  66| BB 000A			mov BX, 10
 0000005C  33 C9			xor ECX, ECX
 0000005E			ConvertLoop:
 0000005E  33 D2			xor EDX, EDX
 00000060  66| F7 F3			div BX
 00000063  66| 52			push DX
 00000065  41				inc ECX
 00000066  66| 85 C0			test AX, AX
 00000069  75 F3			jnz ConvertLoop
 0000006B			RestoreDigits:
 0000006B  66| 5A			pop DX
 0000006D  80 C2 30			add DL, '0'
 00000070  88 17			mov BYTE PTR [EDI], DL
 00000072  47				inc EDI
 00000073  E2 F6			loop RestoreDigits
 00000075  5A				pop EDX
 00000076  59				pop ECX
 00000077  5B				pop EBX
 00000078  58				pop EAX
 00000079  C3				RET
 0000007A			ConvertToDecimal ENDP
				end main
Microsoft (R) Macro Assembler Version 14.37.32822.0	    12/11/24 20:13:09
data.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CONST  . . . . . . . . . . . . .	32 Bit	 00000004 Para	  Public  'CONST'	 ReadOnly
FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 0000010E Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 0000007A Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

ConvertToDecimal . . . . . . . .	P Near	 00000045 _TEXT	Length= 00000035 Public STDCALL
  PositiveNumber . . . . . . . .	L Near	 00000056 _TEXT	
  ConvertLoop  . . . . . . . . .	L Near	 0000005E _TEXT	
  RestoreDigits  . . . . . . . .	L Near	 0000006B _TEXT	
ExitProcess  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MessageBoxA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
main . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000045 Public STDCALL


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
HW . . . . . . . . . . . . . . .	DWord	 00000000 _DATA	
button . . . . . . . . . . . . .	DWord	 00000000 CONST	
resultString . . . . . . . . . .	Byte	 00000004 _DATA	
shortN . . . . . . . . . . . . .	Word	 0000010C _DATA	
ushortL  . . . . . . . . . . . .	Word	 0000010A _DATA	
window . . . . . . . . . . . . .	Byte	 00000105 _DATA	

	   0 Warnings
	   0 Errors
