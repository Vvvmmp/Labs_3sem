Microsoft (R) Macro Assembler Version 14.37.32822.0	    12/04/24 19:55:10
Asm03.asm						     Page 1 - 1


				.586
				.model flat, stdcall
				includelib kernel32.lib
				MessageBoxA PROTO :DWORD, :DWORD, :DWORD, :DWORD
				ExitProcess PROTO :DWORD

				.stack 4096

 00000000			.const 
 00000000 00000000		button DD 0

 00000000			.data
 00000000 00000000		    HW DD 0
 00000004 CE EA ED EE 00	    window BYTE "Окно", 0
 00000009 C5 F1 F2 FC 20	    zeroMessage BYTE "Есть нулевой элемент", 0
	   ED F3 EB E5 E2
	   EE E9 20 FD EB
	   E5 EC E5 ED F2
	   00
 0000001E CD F3 EB E5 E2	    noZeroMessage BYTE "Нулевых элементов нет", 0
	   FB F5 20 FD EB
	   E5 EC E5 ED F2
	   EE E2 20 ED E5
	   F2 00
 00000034 D1 F3 EC EC E0	    sumMessage BYTE "Сумма:   ", 0
	   3A 20 20 20 00
 0000003E 01 00 05 04 05	    myArray BYTE 1, 0, 5, 4, 5, 6, 7
	   06 07
 00000045 00			    sum BYTE 0

 00000046 10 20 30 40		    myBytes BYTE 10h, 20h, 30h, 40h
 0000004A 008A 003B 0044		myWords WORD 8Ah, 3Bh, 44h, 5Fh, 99h
	   005F 0099
 00000054 00000001			myDoubles DWORD 1, 0, 3, 4, 5, 6
	   00000000
	   00000003
	   00000004
	   00000005
	   00000006
 0000006C 00000054 R			myPointer DWORD myDoubles

 00000000			.code

 00000000			main PROC
 00000000  8B 1D 0000006C R	    mov EBX, myPointer
 00000006  8B 43 08		    mov EAX, [EBX + 8]
 00000009  8B 13		    mov EDX, [EBX]

 0000000B  B8 00000000		    mov EAX, 0               
 00000010  BB 00000000		    mov EBX, 0               
 00000015  B9 00000000		    mov ECX, 0 
 0000001A  B2 00		    mov DL, 0
 0000001C  BE 0000003E R	    mov ESI, OFFSET myArray  

 00000021			for_start:
 00000021  83 F9 07		    cmp ECX, 7               
 00000024  7D 11		    jge for_end              

 00000026  8A 04 0E		    mov AL, [ESI + ECX]      
 00000029  02 D0		    add DL, AL           

 0000002B  3C 00		    cmp AL, 0                
 0000002D  75 05		    jne not_zero             
 0000002F  BB 00000001		    mov EBX, 1               

 00000034			not_zero:
 00000034  41			    inc ECX                  
 00000035  EB EA		    jmp for_start            

 00000037			for_end:
 00000037  83 FB 01		    cmp EBX, 1              
 0000003A  74 07		    je show_zero             
 0000003C  BE 0000001E R	    mov ESI, OFFSET noZeroMessage
 00000041  EB 05		    jmp show_message

 00000043			show_zero:
 00000043  BE 00000009 R	    mov ESI, OFFSET zeroMessage

 00000048			show_message:
 00000048  88 15 00000045 R	mov sum, DL
				    INVOKE MessageBoxA, HW, ESI, OFFSET window, button          
 00000065  A0 00000045 R	mov AL, sum
 0000006A  BF 0000003B R	   mov EDI, OFFSET sumMessage + 7
 0000006F  BB 0000000A		    mov EBX, 10 
				   
 00000074			convert:
 00000074  33 D2		    xor EDX, EDX             
 00000076  F7 F3		    div EBX                  
 00000078  80 C2 30		    add DL, '0'              
 0000007B  88 17		    mov [EDI], DL           
 0000007D  4F			    dec EDI                  
 0000007E  85 C0		    test EAX, EAX           
 00000080  75 F2		    jnz convert              

				    INVOKE MessageBoxA, HW, OFFSET sumMessage, OFFSET window, button

				    INVOKE ExitProcess, 0

 000000A4			main ENDP
				end main
Microsoft (R) Macro Assembler Version 14.37.32822.0	    12/04/24 19:55:10
Asm03.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CONST  . . . . . . . . . . . . .	32 Bit	 00000004 Para	  Public  'CONST'	 ReadOnly
FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00000070 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 000000A4 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

ExitProcess  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MessageBoxA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
main . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 000000A4 Public STDCALL
  for_start  . . . . . . . . . .	L Near	 00000021 _TEXT	
  not_zero . . . . . . . . . . .	L Near	 00000034 _TEXT	
  for_end  . . . . . . . . . . .	L Near	 00000037 _TEXT	
  show_zero  . . . . . . . . . .	L Near	 00000043 _TEXT	
  show_message . . . . . . . . .	L Near	 00000048 _TEXT	
  convert  . . . . . . . . . . .	L Near	 00000074 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
HW . . . . . . . . . . . . . . .	DWord	 00000000 _DATA	
button . . . . . . . . . . . . .	DWord	 00000000 CONST	
myArray  . . . . . . . . . . . .	Byte	 0000003E _DATA	
myBytes  . . . . . . . . . . . .	Byte	 00000046 _DATA	
myDoubles  . . . . . . . . . . .	DWord	 00000054 _DATA	
myPointer  . . . . . . . . . . .	DWord	 0000006C _DATA	
myWords  . . . . . . . . . . . .	Word	 0000004A _DATA	
noZeroMessage  . . . . . . . . .	Byte	 0000001E _DATA	
sumMessage . . . . . . . . . . .	Byte	 00000034 _DATA	
sum  . . . . . . . . . . . . . .	Byte	 00000045 _DATA	
window . . . . . . . . . . . . .	Byte	 00000004 _DATA	
zeroMessage  . . . . . . . . . .	Byte	 00000009 _DATA	

	   0 Warnings
	   0 Errors
